import{N as L,z as E,B as N,Q as S}from"./core-6582d204.js";import{L as _,w as m,f as w,_ as B,$ as n,a3 as r,I as M,a7 as u,a2 as i,b as V,F as v,a4 as g,ab as b,V as z,a8 as y}from"./index-5309ea8e.js";var k={name:"CustomSelect",props:{...N(),modelValue:{type:[String,Number,Array]},selection:{type:String}},emits:["update:model-value"],setup(e,{emit:o}){const l=S(e),t=w(!1),d=()=>{t.value=!1,document.removeEventListener("click",d)},f=()=>{t.value=!t.value,t.value?setTimeout(()=>{document.addEventListener("click",d)},1):document.removeEventListener("click",d)};return m(l.selected,()=>{o("update:model-value",l.selected.value)}),m(()=>e.modelValue,a=>{a&&l.setValues(a)},{immediate:!0}),{...l,menu:t,toggleMenu:f}}};const U={class:"vcron-select-container"},F={key:0,class:"vcron-select-list"},Q=["onClick"],T={key:0};function j(e,o,l,t,d,f){return n(),r("div",U,[i("span",{class:"vcron-select-input",onClick:o[0]||(o[0]=(...a)=>t.toggleMenu&&t.toggleMenu(...a))},u(l.selection??e.selectedStr),1),t.menu?(n(),r("div",F,[(n(!0),r(v,null,g(e.itemRows,(a,s)=>(n(),r("div",{class:"vcron-select-row",key:s},[(n(!0),r(v,null,g(a,(c,$)=>(n(),r("div",{key:s+"-"+$,class:b(["vcron-select-col",{"vcron-select-selected":e.has(c)}]),onClick:[h=>e.select(c),o[1]||(o[1]=z(h=>e.multiple?()=>{}:t.toggleMenu(),["stop"]))]},[c?(n(),r("div",T,u(c.text),1)):y("v-if",!0)],10,Q))),128))]))),128))])):y("v-if",!0)])}k.render=j;k.__file="src/components/CustomSelect.vue";var p=_({name:"VueCronEditor",components:{CustomSelect:k},emits:["update:model-value","error"],props:{...L,cols:{type:Object,default:()=>({second:5,minute:5,hour:4,day:4})}},setup(e,{emit:o}){const l=E(e);return m(()=>e.modelValue,t=>{l.cron.value=t}),m(l.cron,t=>{o("update:model-value",t)}),m(l.error,t=>{o("error",t)}),{...l}}});const A={class:"vcron-editor"},D={class:"vcron-l-spacer"},I={class:"vcron-l-spacer"};function O(e,o,l,t,d,f){const a=B("custom-select");return n(),r("span",A,[M(u(e.period.text)+" ",1),i("span",null,u(e.period.prefix.value),1),i("div",D,[V(a,{"model-value":e.period.selected.value.id,"item-value":"id",items:e.period.items,"onUpdate:modelValue":o[0]||(o[0]=s=>e.period.select(s)),cols:e.cols.period||1},null,8,["model-value","items","cols"])]),i("span",null,u(e.period.suffix.value),1),(n(!0),r(v,null,g(e.selected,s=>(n(),r(v,{key:s.id},[i("span",null,u(s.prefix.value),1),i("div",I,[V(a,{"model-value":s.selected.value,"onUpdate:modelValue":c=>s.select(c),items:s.items,cols:e.cols[s.id]||1,selection:s.text.value,multiple:""},null,8,["model-value","onUpdate:modelValue","items","cols","selection"])]),i("span",null,u(s.suffix.value),1)],64))),128))])}p.render=O;p.__file="src/CronEditor.vue";function C(e){C.installed||(C.installed=!0,e.component("CronLight",p))}const q={install:C,component:p};export{p as CronLight,q as CronLightPlugin,q as default,C as install};
