import{_ as q,M as H,p as K,q as O,R as X,v as Y,N as tt}from"./framework-bdb2dae7.js";var et=Object.defineProperty,rt=(e,t,r)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r)=>(rt(e,typeof t!="symbol"?t+"":t,r),r),S=(e=>(e.Empty="empty",e.Value="value",e.Range="range",e.EveryX="everyX",e.Combined="combined",e.NoSpecific="noSpecific",e))(S||{});function nt(e,t,r=1){const i=[];for(let n=e;n<=t;n+=r)i.push(n);return i}class st{constructor(t,r,i=1){return c(this,"start"),c(this,"end"),c(this,"step"),this.start=t,this.end=r,this.step=i,new Proxy(this,{get:function(n,s){const o=typeof s=="string"?parseInt(s):s;return typeof o=="number"&&o>=0&&o<=n.length?n.start+n.step*o:Reflect.get(n,s)}})}get length(){return(this.end-this.start)/this.step+1}[Symbol.iterator](){let t=-1;return{next:()=>({value:this[++t],done:this[t+1]===void 0})}}}function x(e,t,r=n=>n+"",i=n=>n+""){const n=[];for(const s of new st(e,t))n.push({text:r(s),alt:i(s),value:s});return n}function it(e){return{secondItems:x(0,59,t=>U(t,2)),minuteItems:x(0,59,t=>U(t,2)),hourItems:x(0,23,t=>U(t,2)),dayItems:x(1,31),monthItems:x(1,12,t=>new Date(2021,t-1,1).toLocaleDateString(e,{month:"long"}),t=>new Date(2021,t-1,1).toLocaleDateString(e,{month:"short"})),dayOfWeekItems:x(0,6,t=>new Date(2021,0,3+t).toLocaleDateString(e,{weekday:"long"}),t=>new Date(2021,0,3+t).toLocaleDateString(e,{weekday:"short"}))}}function U(e,t){const r=e+"";return r.length<t?new Array(t-r.length).fill("0").join("")+e:r}function ot(e){for(let t=1;t<e.length;t++)if(e[t-1]+1!==e[t])return!1;return!0}function at(){throw new Error("not implemented")}class b{constructor(t){c(this,"field"),c(this,"type",S.Empty),this.field=t}toCron(){return"*"}toArray(){return[]}get items(){return{}}static fromString(t,r){return t!=="*"?null:new b(r)}static fromArray(t,r){const{items:i}=r;if(t.length===0)return new b(r);if(t.length!==i.length)return null;for(const n of i)if(!t.includes(n.value))return null;return ot(i.map(n=>n.value))?new b(r):null}}const G=class F{constructor(t,r,i){c(this,"field"),c(this,"type",S.Range),c(this,"start"),c(this,"end"),this.field=t,this.start=r,this.end=i}toCron(){return`${this.start}-${this.end}`}toArray(){const t=this.start,r=this.end;return nt(t,r)}get items(){return{start:this.field.itemMap[this.start],end:this.field.itemMap[this.end]}}static fromString(t,r){if(!F.re.test(t))return null;const{min:i,max:n}=r,s=t.split("-"),o=parseInt(s[0]),a=parseInt(s[1]);return o>a||o<i||a>n?null:new F(r,o,a)}};c(G,"re",/^\d+-\d+$/);let J=G;const B=(e,t,r)=>{const i=e*Math.floor(t/e),n=[];for(let s=i;s<=r;s+=e)s>=t&&n.push(s);return n},Q=class D{constructor(t,r){c(this,"field"),c(this,"type",S.EveryX),c(this,"every"),this.field=t,this.every=r}toCron(){return`*/${this.every}`}toArray(){const{min:t,max:r}=this.field;return B(this.every,t,r)}get items(){return{every:this.field.itemMap[this.every]}}static fromString(t,r){if(!D.re.test(t))return null;const[,i]=t.split("/"),n=parseInt(i),{min:s,max:o}=r;return B(n,s,o).length==0?null:new D(r,n)}static fromArray(t,r){const{min:i,max:n}=r;if(t.length<3)return null;const s=t[1]-t[0];if(s<=1)return null;const o=i%s===0?i:(Math.floor(i/s)+1)*s;if(t.length!==Math.floor((n-o)/s)+1)return null;for(const a of t)if(a%s!==0)return null;return new D(r,s)}};c(Q,"re",/^\*\/\d+$/);let ut=Q;class R{constructor(t,r){c(this,"field"),c(this,"type",S.Value),c(this,"value"),this.field=t,this.value=r}toCron(){return`${this.value}`}toArray(){return[this.value]}get items(){return{value:this.field.itemMap[this.value]}}static fromString(t,r){const{min:i,max:n}=r,s=parseInt(t);return String(s)===t&&s>=i&&s<=n?new R(r,s):null}static fromArray(t,r){const{min:i,max:n}=r;if(t.length!=1)return null;const s=t[0];return s<i||s>n?null:s}}const lt=class P{constructor(t,r=[]){c(this,"field"),c(this,"segments"),this.field=t,this.segments=r}get type(){return this.segments.length==1?this.segments[0].type:S.Range}addSegment(t){this.segments.push(t)}toCron(){return this.segments.map(t=>t.toCron()).join(",")}toArray(){const t=new Set;for(const r of this.segments)r.toArray().forEach(i=>t.add(i));return Array.from(t)}get items(){return at()}static fromString(t,r){const i=r.segmentFactories??P.segmentFactories;let n=[];for(const s of t.split(",")){if(s==="*"){n=[new b(r)];break}let o=null;for(const a of i)if(o=a(s,r),o!==null)break;if(o===null)return null;n.push(o)}return new P(r,n)}static fromArray(t,r){const{min:i,max:n}=r,s=t[0],o=t[t.length-1];if(s<i||o>n)return null;const a=[];let u=0;for(let l=0;l<t.length;l++)(t[l+1]===void 0||t[l+1]-t[l]>1)&&(l===u?a.push(new R(r,t[u])):a.push(new J(r,t[u],t[l])),u=l+1);return new P(r,a)}};c(lt,"segmentFactories",[b.fromString,ut.fromString,J.fromString,R.fromString]);/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var ct=Object.prototype.toString,k=Array.isArray||function(e){return ct.call(e)==="[object Array]"};function N(e){return typeof e=="function"}function ht(e){return k(e)?"array":typeof e}function M(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function _(e,t){return e!=null&&typeof e=="object"&&t in e}function ft(e,t){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}var pt=RegExp.prototype.test;function dt(e,t){return pt.call(e,t)}var mt=/\S/;function gt(e){return!dt(mt,e)}var yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function vt(e){return String(e).replace(/[&<>"'`=\/]/g,function(t){return yt[t]})}var wt=/\s*/,xt=/\s+/,z=/\s*=/,bt=/\s*\}/,Ct=/#|\^|\/|>|\{|&|=|!/;function St(e,t){if(!e)return[];var r=!1,i=[],n=[],s=[],o=!1,a=!1,u="",l=0;function y(){if(o&&!a)for(;s.length;)delete n[s.pop()];else s=[];o=!1,a=!1}var E,I,W;function $(g){if(typeof g=="string"&&(g=g.split(xt,2)),!k(g)||g.length!==2)throw new Error("Invalid tags: "+g);E=new RegExp(M(g[0])+"\\s*"),I=new RegExp("\\s*"+M(g[1])),W=new RegExp("\\s*"+M("}"+g[1]))}$(t||m.tags);for(var h=new j(e),v,p,d,A,T,w;!h.eos();){if(v=h.pos,d=h.scanUntil(E),d)for(var L=0,Z=d.length;L<Z;++L)A=d.charAt(L),gt(A)?(s.push(n.length),u+=A):(a=!0,r=!0,u+=" "),n.push(["text",A,v,v+1]),v+=1,A===`
`&&(y(),u="",l=0,r=!1);if(!h.scan(E))break;if(o=!0,p=h.scan(Ct)||"name",h.scan(wt),p==="="?(d=h.scanUntil(z),h.scan(z),h.scanUntil(I)):p==="{"?(d=h.scanUntil(W),h.scan(bt),h.scanUntil(I),p="&"):d=h.scanUntil(I),!h.scan(I))throw new Error("Unclosed tag at "+h.pos);if(p==">"?T=[p,d,v,h.pos,u,l,r]:T=[p,d,v,h.pos],l++,n.push(T),p==="#"||p==="^")i.push(T);else if(p==="/"){if(w=i.pop(),!w)throw new Error('Unopened section "'+d+'" at '+v);if(w[1]!==d)throw new Error('Unclosed section "'+w[1]+'" at '+v)}else p==="name"||p==="{"||p==="&"?a=!0:p==="="&&$(d)}if(y(),w=i.pop(),w)throw new Error('Unclosed section "'+w[1]+'" at '+h.pos);return Et(kt(n))}function kt(e){for(var t=[],r,i,n=0,s=e.length;n<s;++n)r=e[n],r&&(r[0]==="text"&&i&&i[0]==="text"?(i[1]+=r[1],i[3]=r[3]):(t.push(r),i=r));return t}function Et(e){for(var t=[],r=t,i=[],n,s,o=0,a=e.length;o<a;++o)switch(n=e[o],n[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":s=i.pop(),s[5]=n[2],r=i.length>0?i[i.length-1][4]:t;break;default:r.push(n)}return t}function j(e){this.string=e,this.tail=e,this.pos=0}j.prototype.eos=function(){return this.tail===""};j.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};j.prototype.scanUntil=function(e){var t=this.tail.search(e),r;switch(t){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=r.length,r};function C(e,t){this.view=e,this.cache={".":this.view},this.parent=t}C.prototype.push=function(e){return new C(e,this)};C.prototype.lookup=function(e){var t=this.cache,r;if(t.hasOwnProperty(e))r=t[e];else{for(var i=this,n,s,o,a=!1;i;){if(e.indexOf(".")>0)for(n=i.view,s=e.split("."),o=0;n!=null&&o<s.length;)o===s.length-1&&(a=_(n,s[o])||ft(n,s[o])),n=n[s[o++]];else n=i.view[e],a=_(i.view,e);if(a){r=n;break}i=i.parent}t[e]=r}return N(r)&&(r=r.call(this.view)),r};function f(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};f.prototype.parse=function(e,t){var r=this.templateCache,i=e+":"+(t||m.tags).join(":"),n=typeof r<"u",s=n?r.get(i):void 0;return s==null&&(s=St(e,t),n&&r.set(i,s)),s};f.prototype.render=function(e,t,r,i){var n=this.getConfigTags(i),s=this.parse(e,n),o=t instanceof C?t:new C(t,void 0);return this.renderTokens(s,o,r,e,i)};f.prototype.renderTokens=function(e,t,r,i,n){for(var s="",o,a,u,l=0,y=e.length;l<y;++l)u=void 0,o=e[l],a=o[0],a==="#"?u=this.renderSection(o,t,r,i,n):a==="^"?u=this.renderInverted(o,t,r,i,n):a===">"?u=this.renderPartial(o,t,r,n):a==="&"?u=this.unescapedValue(o,t):a==="name"?u=this.escapedValue(o,t,n):a==="text"&&(u=this.rawValue(o)),u!==void 0&&(s+=u);return s};f.prototype.renderSection=function(e,t,r,i,n){var s=this,o="",a=t.lookup(e[1]);function u(E){return s.render(E,t,r,n)}if(a){if(k(a))for(var l=0,y=a.length;l<y;++l)o+=this.renderTokens(e[4],t.push(a[l]),r,i,n);else if(typeof a=="object"||typeof a=="string"||typeof a=="number")o+=this.renderTokens(e[4],t.push(a),r,i,n);else if(N(a)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");a=a.call(t.view,i.slice(e[3],e[5]),u),a!=null&&(o+=a)}else o+=this.renderTokens(e[4],t,r,i,n);return o}};f.prototype.renderInverted=function(e,t,r,i,n){var s=t.lookup(e[1]);if(!s||k(s)&&s.length===0)return this.renderTokens(e[4],t,r,i,n)};f.prototype.indentPartial=function(e,t,r){for(var i=t.replace(/[^ \t]/g,""),n=e.split(`
`),s=0;s<n.length;s++)n[s].length&&(s>0||!r)&&(n[s]=i+n[s]);return n.join(`
`)};f.prototype.renderPartial=function(e,t,r,i){if(r){var n=this.getConfigTags(i),s=N(r)?r(e[1]):r[e[1]];if(s!=null){var o=e[6],a=e[5],u=e[4],l=s;a==0&&u&&(l=this.indentPartial(s,u,o));var y=this.parse(l,n);return this.renderTokens(y,t,r,l,i)}}};f.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(r!=null)return r};f.prototype.escapedValue=function(e,t,r){var i=this.getConfigEscape(r)||m.escape,n=t.lookup(e[1]);if(n!=null)return typeof n=="number"&&i===m.escape?String(n):i(n)};f.prototype.rawValue=function(e){return e[1]};f.prototype.getConfigTags=function(e){return k(e)?e:e&&typeof e=="object"?e.tags:void 0};f.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!k(e))return e.escape};var m={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){V.templateCache=e},get templateCache(){return V.templateCache}},V=new f;m.clearCache=function(){return V.clearCache()};m.parse=function(e,t){return V.parse(e,t)};m.render=function(e,t,r,i){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ht(e)+'" was given as the first argument for mustache#render(template, view, partials)');return V.render(e,t,r,i)};m.escape=vt;m.Scanner=j;m.Context=C;m.Writer=f;const It={data(){const e=it("en");return{value:"* * * * *",error:"",periods:[{id:"year",value:["month","day","hour","minute","second"]},{id:"hour",value:["minute","second"]},{id:"minute",value:["second"]},{id:"second",value:[]}],fields:[{id:"second",items:x(0,59,t=>U(t,2))},{id:"minute",items:e.minuteItems},{id:"hour",items:e.hourItems},{id:"day",items:e.dayItems},{id:"month",items:e.monthItems}],customLocale:{"*":{second:{"*":{prefix:":"}}},hour:{minute:{"*":{prefix:"at",suffix:""},empty:{text:"every minute"}}},minute:{second:{"*":{prefix:"at",suffix:"second(s)"},empty:{text:"every"}}},second:{text:"Second"}}}}},At={class:"mb-2"};function Vt(e,t,r,i,n,s){const o=H("CronLight");return K(),O("div",null,[X("div",At,Y(n.value),1),tt(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),periods:n.periods,fields:n.fields,onError:t[1]||(t[1]=a=>n.error=a),"custom-locale":n.customLocale},null,8,["modelValue","periods","fields","custom-locale"])])}const Tt=q(It,[["render",Vt],["__file","custom-fields.vue"]]);export{Tt as default};
